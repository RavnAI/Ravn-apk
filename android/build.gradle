

/* ---- Force Java 17 across all subprojects ---- */
subprojects { project ->
  afterEvaluate {
    tasks.withType(JavaCompile).configureEach { options.release = 17 }
    try {
      tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).configureEach { kotlinOptions.jvmTarget = "17" }
    } catch (ignored) {}
    if (project.plugins.hasPlugin("com.android.application") || project.plugins.hasPlugin("com.android.library")) {
      android {
        compileOptions {
          sourceCompatibility JavaVersion.VERSION_17
          targetCompatibility JavaVersion.VERSION_17
        }
      }
    }
  }
}

